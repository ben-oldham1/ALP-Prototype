{% extends "base.html" %}

{% block title %}
Login page
{% endblock %}

{% block content %}

<div class="container">
    <div class="center">
        <div class="card" style="width: 18.75rem;">
            <div class="card-body text-center">
                <h5 class="card-title">Welcome</h5>
                <div class="input-group mb-3">
                    <input type="text" id="username" class="form-control" placeholder="Username" aria-label="Username"
                        aria-describedby="basic-addon1" required>
                </div>
                <div class="input-group mb-3">
                    <input type="email" id="email" class="form-control" placeholder="Email"
                        aria-label="Email" aria-describedby="basic-addon2" required>
                </div>
                <div class="input-group mb-3">
                    <input type="password" id="password" class="form-control" placeholder="Password"
                        aria-label="Password" aria-describedby="basic-addon2" required>
                </div>
                <div class="input-group mb-3">
                    <input type="password" id="password2" class="form-control" placeholder="Re-enter Password"
                        aria-label="Re-enter Password" aria-describedby="basic-addon2" required>
                </div>
                <button type="button" class="btn btn-primary" onclick="login()">Login</button>
                <p class="mt-2">Already have an account? <a href="/login">log in!</a></p> 

                <script>
                    function login() {
                        var username = document.getElementById("username").value;
                        var username = document.getElementById("email").value;
                        var password = document.getElementById("password").value;
                        var username = document.getElementById("password2").value;

                        let emailRegex = /^[^\s@]+@uwe\.live\.ac\.uk$/;

                        if (password === password2 && emailRegex.test(email)) {
                            window.location.href = "/home";
                        } else if(password !== password2) {
                            alert("Passwords entered do not match. Please try again.");
                        } else if(!(emailRegex.test(email))) {
                            alert("invalid email. Please try again.");
                        }
                    }
                </script>
            </div>
        </div>
    </div>
</div>


{% endblock %}